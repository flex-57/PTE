{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }} :: Ateliers
{% endblock %}

{% block body %}
	<h1 class="text-3xl font-bold mb-6">Ateliers</h1>
	{% if ateliers is empty %}
		<div class="p-6 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700">
			<p class="text-center">Aucun domaine trouvé.</p>
		</div>
	{% else %}
		<div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
			{% for a in ateliers %}
				{% set card_params = {
                    link: path('atelier_show', {'id': a.id}),
                    title: a.nom,
                    description: a.description|length > 80 ? a.description|slice(0, 80) ~ '...' : a.description,
                    details: [
                        {'key':'Domaine', 'value': a.domaine.nom},
                        {'key':'Critères', 'value': a.criteres|length},
                    ],
                    color: '#007239',
                } %}
				{% include '_includes/_card.html.twig' with card_params %}
			{% endfor %}
		</div>
	{% endif %}
{% endblock %}
