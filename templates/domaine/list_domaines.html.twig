{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }} :: Domaines
{% endblock %}

{% block body %}
	<h1 class="text-3xl font-bold mb-6">Domaines</h1>
	{% if domaines is empty %}
		<div class="p-6 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700">
			<p class="text-center">Aucun domaine trouvé.</p>
		</div>
	{% else %}
		<div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
			{% for d in domaines %}
				{% set card_params = {
                    link: path('domaine_show', {'id': d.id}),
                    title: d.nom,
                    description: d.description|length > 80 ? d.description|slice(0, 80) ~ '...' : d.description,
                    details: [
                        {'key':'Métier', 'value': d.metiers|length},
                        {'key':'Atelier', 'value': d.ateliers|length},
                    ],
                    color: '#141414',
                } %}
				{% include '_includes/_card.html.twig' with card_params %}
			{% endfor %}
		</div>
	{% endif %}
{% endblock %}
